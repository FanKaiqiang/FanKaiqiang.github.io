(window.webpackJsonp=window.webpackJsonp||[]).push([[117],{427:function(t,s,e){"use strict";e.r(s);var a=e(40),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"tip custom-block"},[e("p",[t._v("ä»Šå¤©æ˜¯äº”æœˆæœ€åä¸€å¤©äº†ï¼Œå‘¨å…­ä¼‘æ¯äº†ä¸€å¤©æ„Ÿè§‰ç¥æ¸…æ°”çˆ½ã€‚è™½ç„¶å…¶å®ä¼‘æ¯ä¹Ÿæ²¡æ€ä¹ˆä¼‘æ¯å°±æ˜¯äº†ï¼Œåˆç¡ä¹Ÿæ²¡æœ‰ç¡ï¼Œå› ä¸ºå‡†å¤‡ç§Ÿæˆ¿äº†è¿˜å»å’Œæ€»ç»“çœ‹æ¥ä¸¤å¥—æˆ¿ã€‚ä½†æ˜¯åªè¦æ²¡æœ‰åœ¨ä¸Šç­å°±æ„Ÿè§‰å¾ˆçˆ½ã€‚è¶ç°åœ¨è¿˜æœ‰ç©ºå°±æŠŠè¿˜æ˜¯ä¹‹å‰ç¿»è¯‘çš„ä¸€ç¯‡ Mobx å‡çº§ç›¸å…³çš„æ–‡ç« æ¬è¿è¿‡æ¥ï¼Œå……å®ä¸€ä¸‹è¿™ä¸ªæœˆçš„åšå®¢æ•°é‡å§ã€‚")])]),t._v(" "),e("p",[t._v("è¿™ç¯‡æ–‡ç« æ˜¯ Mobx ä½œè€…å†™çš„ä¸€ç¯‡å…³äº Mobx 3 å‡çº§åˆ° Mobx 4 çš„è¿ç§»æŒ‡å—ã€‚")]),e("div",{staticStyle:{"text-align":"center"}},[e("img",{attrs:{src:"https://s1.ax1x.com/2020/05/31/t1kWMF.jpg",alt:"å°é¢"}})]),e("p"),t._v(" "),e("blockquote",[e("p",[t._v("ç¿»è¯‘åŸæ–‡ï¼š"),e("a",{attrs:{href:"https://github.com/mobxjs/mobx/wiki/Migrating-from-mobx-3-to-mobx-4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Migrating from mobx 3 to mobx 4 Â· mobxjs/mobx Wiki"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"å˜æ›´æ¦‚è¿°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å˜æ›´æ¦‚è¿°","aria-hidden":"true"}},[t._v("#")]),t._v(" å˜æ›´æ¦‚è¿°")]),t._v(" "),e("p",[t._v("éå¸¸æŠ±æ­‰ï¼Œæœ¬è¿ç§»æŒ‡å—çœ‹èµ·æ¥å¦‚æ­¤çš„åˆå¤§åˆé•¿ ğŸ˜ƒï¼Œä¸è¿‡å¥½æ¶ˆæ¯æ˜¯ï¼Œå¯èƒ½æ‚¨ä»æœªå¬è¯´è¿‡æœ¬æŒ‡å—ä¸­æåˆ°çš„å¤§å¤šæ•°å˜æ›´ã€‚ä½†æ˜¯ä½œä¸ºæŒ‡å—æ˜¯éœ€è¦æ— æ‡ˆå¯å‡»çš„ï¼Œéœ€è¦å°†å®ƒä»¬å…¨éƒ¨åˆ—å‡ºã€‚MobX 4 å°†ä¼šåœ¨è¿è¡Œæ—¶æ£€æµ‹åˆ°å¤§éƒ¨åˆ†é”™è¯¯çš„/å·²å¼ƒç”¨çš„ api çš„ä½¿ç”¨æƒ…å†µï¼Œå› æ­¤è¿ç§»çš„æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯å…ˆå‡çº§ï¼Œå†æ ¹æ®æœ¬æŒ‡å—ä¿®å¤é”™è¯¯ã€‚å¦‚æœæ‚¨åœ¨é¡¹ç›®ä¸­å¯ç”¨äº†TypeScriptï¼ˆæˆ–Flowï¼‰ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘æ—¶å°±ä¼šæ ‡è®°å‡ºæ¥å¤§å¤šæ•°ä¸èµæˆä½¿ç”¨çš„ apiã€‚")]),t._v(" "),e("p",[t._v("MobX 4 åˆ é™¤äº†æ—©åœ¨ MobX 3 ä¸­å°±å·²ç»å¼ƒç”¨äº†çš„æ‰€æœ‰ apiã€‚å› æ­¤ï¼Œè¯·ç¡®ä¿åœ¨å‡çº§ä¹‹å‰æ²¡æœ‰ä»»ä½•å¼ƒç”¨è­¦å‘Š: )ã€‚")]),t._v(" "),e("p",[e("code",[t._v("extras")]),t._v("å‘½åç©ºé—´è¢«åˆ é™¤äº†ï¼Œå…¶ä¸­åŒ…å«çš„æ‰€æœ‰çš„æ–¹æ³•ç°åœ¨éƒ½åœ¨åŒ…é¡¶å±‚å…¬å¼€å‡ºæ¥ã€‚è¿™æ ·å¯ä»¥ä½¿å¾— rollup æˆ– Webpack ç­‰å·¥å…·å¯ä»¥æ›´å¥½åœ°è¿›è¡Œ tree-shakingã€‚")]),t._v(" "),e("p",[t._v("MobX 4 é’ˆå¯¹ç”Ÿäº§ç¯å¢ƒä¸å¼€å‘ç¯å¢ƒæ¨å‡ºäº†å•ç‹¬çš„ç‰ˆæœ¬ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å°†å–æ¶ˆå¤§å¤šæ•°ç±»å‹æ£€æŸ¥ï¼Œä»¥ç”Ÿæˆè¿è¡Œæ›´å¿«ï¼Œä½“ç§¯æ›´å°çš„ç‰ˆæœ¬ã€‚å› æ­¤è¯·ç¡®ä¿åœ¨æ‚¨çš„æ„å»ºè¿‡ç¨‹ä¸­ä¸åš"),e("code",[t._v('process.env.NODE_ENV = "production"')]),t._v("çš„è®¾ç½®ï¼å¦‚æœæ‚¨æ˜¯åœ¨ Reacté¡¹ç›®ä¸­ä½¿ç”¨ MobX çš„è¯ï¼Œå°±å¯èƒ½å·²ç»åšå¥½äº†æ­£ç¡®çš„é…ç½®ã€‚ç›¸å…³æ–‡æ¡£ï¼š"),e("a",{attrs:{href:"https://zh-hans.reactjs.org/docs/add-react-to-a-website.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ¨ç½‘ç«™ä¸­æ·»åŠ  React â€“ React"),e("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),e("p",[e("code",[t._v("observable.*")]),t._v(" api å˜å¾—æ›´åŠ ç®€åŒ–ã€ä¸€è‡´ã€‚æ­¤å¤–ï¼Œç°åœ¨å¯ä»¥åœ¨å¯ç”¨å’Œç¦ç”¨è£…é¥°å™¨è¯­æ³•çš„æƒ…å†µä¸‹ä½¿ç”¨è£…é¥°å™¨ã€‚80ï¼…åˆ°90ï¼…çš„ api å°†ä¸ MobX 3 ä¿æŒä¸€è‡´ï¼Œä½†æ˜¯æ‚¨è¿˜æ˜¯éœ€è¦å¯¹äºæŸäº›è¾¹ç•Œæƒ…å†µåšå‡ºä¸€äº›è°ƒæ•´ã€‚")]),t._v(" "),e("p",[t._v("å¤§å¤šæ•° api å‡å·²ç®€åŒ–ã€‚ä¾‹å¦‚ï¼Œåœ¨ä»¥å¾€è®¸å¤š api å°†ä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º "),e("code",[t._v("name")]),t._v("ï¼Œå…¶ä»–é¢å¤–çš„æŒ‡æ ‡ä½œä¸ºåç»­çš„å‚æ•°ã€‚è€Œç°åœ¨å‡ ä¹æ‰€æœ‰çš„ api éƒ½å·²ç»æ”¹ä¸ºå°†å¿…éœ€çš„å‚æ•°ä¼˜å…ˆä¼ å…¥ï¼Œè€Œåæ‰æ˜¯ä½œä¸ºå¯é€‰é…ç½®çš„å¯¹è±¡ã€‚api å˜å¾—æ›´ç®€å•æ˜“è¯»äº†ã€‚")]),t._v(" "),e("p",[t._v("å¯¹äº TypeScript ç”¨æˆ·ï¼Œåœ¨configä¸­åº”å°†"),e("code",[t._v("tslib")]),t._v("è®¾ç½®ä¸º"),e("code",[t._v("es6")]),t._v("ï¼ˆç¼–è¯‘çš„ç›®æ ‡ä»å¯ä»¥ä¸ºES5ï¼‰ã€‚")]),t._v(" "),e("h2",{attrs:{id:"å·²åˆ é™¤çš„å†…å®¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å·²åˆ é™¤çš„å†…å®¹","aria-hidden":"true"}},[t._v("#")]),t._v(" å·²åˆ é™¤çš„å†…å®¹")]),t._v(" "),e("p",[e("em",[t._v("æ³¨æ„ï¼šä¸ºäº†ä½¿  api çš„ä½“ç§¯æ›´å°ï¼Œåˆ é™¤äº†è®¸å¤šå·²ä¸å‡†å¤‡æ”¯æŒçš„åŠŸèƒ½ã€‚å¦‚æœæ‚¨è®¤ä¸ºä¸åº”åˆ é™¤æŸäº›åŠŸèƒ½ï¼Œè¯·éšæ—¶æå‡º issueï¼")])]),t._v(" "),e("p",[e("code",[t._v("shareGlobalState")]),t._v("å·²è¢«åˆ é™¤ã€‚ç°æœ‰çš„æ–¹æ³•å·²ç»è¶³ä»¥æ­£ç¡®åœ°è®¾ç½®é¡¹ç›® MobX å…±äº«: )ã€‚")]),t._v(" "),e("p",[e("code",[t._v("autorun")]),t._v("ï¼Œ"),e("code",[t._v("reaction")]),t._v("ï¼Œ"),e("code",[t._v("runInAction")]),t._v("ç­‰æ–¹æ³•ä¸å†æ”¯æŒæ¥å—"),e("code",[t._v("context")]),t._v(" å‚æ•°ï¼ˆ"),e("code",[t._v("this")]),t._v("ï¼‰ã€‚è¯·æ”¹ç”¨ç®­å¤´å‡½æ•°ä»£æ›¿ã€‚")]),t._v(" "),e("p",[e("code",[t._v("isModifierDescriptor")]),t._v("ã€"),e("code",[t._v("isStrictModeEnabled")]),t._v("ã€"),e("code",[t._v("extras.spyReport")]),t._v("ã€"),e("code",[t._v("extras.spyReportEnd")]),t._v("ã€"),e("code",[t._v("extras.spyReportStart")]),t._v("ã€"),e("code",[t._v("extras.isSpyEnabled")]),t._v("ç­‰æ–¹æ³•å°†ä¸å¤å­˜åœ¨ã€‚")]),t._v(" "),e("p",[e("code",[t._v("whyRun")]),t._v("å·²è¢«åˆ é™¤ï¼Œè¯·æ”¹ç”¨æ›´ç®€æ´çš„ "),e("a",{attrs:{href:"https://cn.mobx.js.org/best/trace.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("trace"),e("OutboundLink")],1),t._v(" æ–¹æ³•ã€‚")]),t._v(" "),e("p",[t._v("mobx çš„ "),e("code",[t._v("default")]),t._v(" å¯¼å‡ºå°†ä¸å†å…¬å¼€ã€‚è¿™æ„å‘³ç€æ‚¨ä¸èƒ½å†é€šè¿‡"),e("code",[t._v('import mobx from "mobx"')]),t._v("çš„æ–¹å¼å¼•å…¥ mobxï¼Œè€Œæ˜¯æ˜¾å¼åœ°å¯¼å…¥å†…å®¹ï¼š"),e("code",[t._v('import { observable } from "mobx"')]),t._v("ã€‚ï¼ˆæˆ–ä½¿ç”¨"),e("code",[t._v('import * as mobx from "mobx"')]),t._v("å¹¶ç»ˆæ­¢ tree-shakingï¼‰ã€‚")]),t._v(" "),e("h2",{attrs:{id:"å·²è¿ç§»çš„å†…å®¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å·²è¿ç§»çš„å†…å®¹","aria-hidden":"true"}},[t._v("#")]),t._v(" å·²è¿ç§»çš„å†…å®¹")]),t._v(" "),e("p",[t._v("è®¸å¤šæ–¹æ³•å·²ç»ä»"),e("code",[t._v("extras")]),t._v("å‘½åç©ºé—´ä¸­è½¬ç§»äº†ã€‚ä¸‹åˆ— api ä¸­ï¼Œå¸¦æœ‰_å‰ç¼€çš„ä»ç„¶æ˜¯éå®˜æ–¹çš„apiï¼ˆä½†å¯ä»¥ç”¨äºæµ‹è¯•ï¼‰ï¼Œæ— å‰ç¼€çš„æ–¹æ³•ç°å·²æ­£å¼æ”¯æŒã€‚")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"center"}},[t._v("æ—§API")]),t._v(" "),e("th",{staticStyle:{"text-align":"center"}},[t._v("æ–°API")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("useStrict(boolean)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("configure({ enforceActions: boolean })")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("expr")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("ç°åœ¨æ˜¯"),e("code",[t._v("mobx-utils")]),t._v("åŒ…çš„ä¸€éƒ¨åˆ†")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("createTransformer")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[t._v("ç°åœ¨æ˜¯"),e("code",[t._v("mobx-utils")]),t._v("åŒ…çš„ä¸€éƒ¨åˆ†")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("map(values)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("observable.map(values)")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.allowStateChanges")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("_allowStateChanges")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.deepEqual")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("comparer.structural")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getAdministration")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getAdministration")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getAtom")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getAtom")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getDebugName")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getDebugName")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getDependencyTree")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getDependencyTree")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getGlobalState")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("_getGlobalState")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.getObserverTree")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("getObserverTree")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.interceptReads")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("_interceptReads")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.isComputingDerivation")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("_isComputingDerivation")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.isolateGlobalState()")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("configure({ isolateGlobalState: true })")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.onReactionError")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("onReactionError")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.reserveArrayBuffer(number)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("configure({ arrayBuffer: number })")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.resetGlobalState")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("_resetGlobalState")])])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("extras.setReactionScheduler(fn)")])]),t._v(" "),e("td",{staticStyle:{"text-align":"center"}},[e("code",[t._v("configure({ reactionScheduler : fn })")])])])])]),t._v(" "),e("h2",{attrs:{id:"å‘ç”Ÿæ”¹å˜çš„å†…å®¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‘ç”Ÿæ”¹å˜çš„å†…å®¹","aria-hidden":"true"}},[t._v("#")]),t._v(" å‘ç”Ÿæ”¹å˜çš„å†…å®¹")]),t._v(" "),e("h3",{attrs:{id:"ä¸ä½¿ç”¨è£…é¥°å™¨è¯­æ³•ï¼ˆ-ï¼‰çš„è£…é¥°å™¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ä½¿ç”¨è£…é¥°å™¨è¯­æ³•ï¼ˆ-ï¼‰çš„è£…é¥°å™¨","aria-hidden":"true"}},[t._v("#")]),t._v(" ä¸ä½¿ç”¨è£…é¥°å™¨è¯­æ³•ï¼ˆ@ï¼‰çš„è£…é¥°å™¨")]),t._v(" "),e("p",[e("code",[t._v("observable.ref")]),t._v("ï¼Œ"),e("code",[t._v("observable.shallow")]),t._v("ï¼Œ"),e("code",[t._v("observable.deep")]),t._v("ï¼Œ"),e("code",[t._v("observable.struct")]),t._v("ç­‰è£…é¥°å™¨æ–¹æ³•ä¸å†è¢«ç”¨ä½œä¸ºå‡½æ•°ä½¿ç”¨ï¼Œè€Œæ˜¯é€šè¿‡å§‹ç»ˆç”¨è£…é¥°å™¨çš„æ–¹å¼ä½¿ç”¨è¿™äº› apiï¼Œä»¤å…¶æ›´åŠ ä¸€è‡´ã€‚ä¾‹å¦‚ï¼Œ"),e("code",[t._v("observable.object")]),t._v("å’Œ"),e("code",[t._v("extendObservable")]),t._v("ç°åœ¨æ”¯æŒä¸€ä¸ª"),e("code",[t._v("decorators")]),t._v("å‚æ•°ç”¨äºæ¥å—è£…é¥°å™¨ã€‚")]),t._v(" "),e("p",[t._v("å…¶ä¸­ Mobx 3 ä¸­çš„è£…é¥°å™¨æ–¹æ³•ï¼Œåœ¨ Mobx 4 åº”è¯¥æ”¹ä¸ºä½¿ç”¨ decorators å‚æ•°ã€‚ä¾‹å¦‚ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MobX 3")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myObject "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Michel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  profile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("someDataFetchingPromise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MobX 4")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myObject "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("observable")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Michel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  profile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" someDataFetchingPromise\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å®šè£…é¥°å™¨.ã€‚é»˜è®¤å€¼ä¸º'observable'ï¼Œå› æ­¤æˆ‘ä»¬åªæŒ‡å®šäº†'profile':")]),t._v("\n  profile"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ³¨æ„ï¼šä¸è¦åŠ  () !")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("p",[t._v("è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ï¼Œç°åœ¨ä½¿ç”¨"),e("code",[t._v("@decorator")]),t._v("ä¸"),e("code",[t._v("decorator")]),t._v("çš„æ•ˆæœä¸€è‡´çš„ï¼Œä¸¤ç§æ–¹å¼è°ƒç”¨æ–¹å¼å’Œæ¥æ”¶å‚æ•°å§‹ç»ˆç›¸åŒã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‡ ä¸ªç¤ºä¾‹éƒ½å®ç°äº†ç›¸åŒçš„æ•ˆæœã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåˆ‡æ¢ä¸åŒçš„è¯­æ³•æˆ–åˆ›å»ºå¯¹è±¡çš„æ–¹å¼æ˜¯éå¸¸æ–¹ä¾¿çš„ï¼š")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Todo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @observable title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n    @observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" somePromise\n\n    @computed "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("difficulty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    @"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" requiresReaction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("expensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("somethingExpensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    @action "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    @action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bound "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// observable.object ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•° 'decorators'ï¼ŒæŒ‡å®šéœ€è¦ä½¿ç”¨çš„è£…é¥°å™¨ã€‚")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹äºçœç•¥çš„å±æ€§ï¼Œé»˜è®¤ä¸º `observable` (getters å±æ€§é»˜è®¤ä¸º`computed`)")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" todo "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    promise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" somePromise"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("difficulty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("expensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("somethingExpensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// title: observable å¯ä»¥çœç•¥ï¼Œå½“ observable.object / extendobservable æ—¶å…¶å°†ä½œä¸ºé»˜è®¤å€¼ã€‚")]),t._v("\n    ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    expensive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" requiresReaction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    setTitle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    setTitle2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bound\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¹Ÿè®¸æ‚¨çš„é¡¹ç›®ä¸­å·²ç»æœ‰ç±»ï¼Œä½†è¿˜æ²¡æœ‰å¯ç”¨è£…é¥°å™¨è¯­æ³•ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œä½¿ç”¨ MobX 4 å¯ä»¥è®©æ‚¨ä¸èµ°å›å¤´è·¯")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½œä¸ºåœ¨ constructor ä¸­ä½¿ç”¨`extendObservable`çš„æ›¿ä»£ï¼Œåªéœ€è¦åœ¨`mobx.decorate`ä¸­å£°æ˜ç›¸å…³å­—æ®µå³å¯å¢å¼ºåŸå‹:")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Todo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),t._v("\n    promise "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" somePromise\n\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("difficulty")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("expensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("somethingExpensive")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("t")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" t\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("decorate")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Todo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" observable"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    expensive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" requiresReaction"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    setTitle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    setTitle2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bound\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br"),e("span",{staticClass:"line-number"},[t._v("20")]),e("br"),e("span",{staticClass:"line-number"},[t._v("21")]),e("br"),e("span",{staticClass:"line-number"},[t._v("22")]),e("br"),e("span",{staticClass:"line-number"},[t._v("23")]),e("br"),e("span",{staticClass:"line-number"},[t._v("24")]),e("br"),e("span",{staticClass:"line-number"},[t._v("25")]),e("br"),e("span",{staticClass:"line-number"},[t._v("26")]),e("br"),e("span",{staticClass:"line-number"},[t._v("27")]),e("br"),e("span",{staticClass:"line-number"},[t._v("28")]),e("br"),e("span",{staticClass:"line-number"},[t._v("29")]),e("br"),e("span",{staticClass:"line-number"},[t._v("30")]),e("br"),e("span",{staticClass:"line-number"},[t._v("31")]),e("br"),e("span",{staticClass:"line-number"},[t._v("32")]),e("br"),e("span",{staticClass:"line-number"},[t._v("33")]),e("br"),e("span",{staticClass:"line-number"},[t._v("34")]),e("br"),e("span",{staticClass:"line-number"},[t._v("35")]),e("br"),e("span",{staticClass:"line-number"},[t._v("36")]),e("br"),e("span",{staticClass:"line-number"},[t._v("37")]),e("br"),e("span",{staticClass:"line-number"},[t._v("38")]),e("br"),e("span",{staticClass:"line-number"},[t._v("39")]),e("br"),e("span",{staticClass:"line-number"},[t._v("40")]),e("br"),e("span",{staticClass:"line-number"},[t._v("41")]),e("br"),e("span",{staticClass:"line-number"},[t._v("42")]),e("br"),e("span",{staticClass:"line-number"},[t._v("43")]),e("br"),e("span",{staticClass:"line-number"},[t._v("44")]),e("br"),e("span",{staticClass:"line-number"},[t._v("45")]),e("br"),e("span",{staticClass:"line-number"},[t._v("46")]),e("br"),e("span",{staticClass:"line-number"},[t._v("47")]),e("br"),e("span",{staticClass:"line-number"},[t._v("48")]),e("br"),e("span",{staticClass:"line-number"},[t._v("49")]),e("br"),e("span",{staticClass:"line-number"},[t._v("50")]),e("br"),e("span",{staticClass:"line-number"},[t._v("51")]),e("br"),e("span",{staticClass:"line-number"},[t._v("52")]),e("br"),e("span",{staticClass:"line-number"},[t._v("53")]),e("br"),e("span",{staticClass:"line-number"},[t._v("54")]),e("br"),e("span",{staticClass:"line-number"},[t._v("55")]),e("br"),e("span",{staticClass:"line-number"},[t._v("56")]),e("br"),e("span",{staticClass:"line-number"},[t._v("57")]),e("br"),e("span",{staticClass:"line-number"},[t._v("58")]),e("br"),e("span",{staticClass:"line-number"},[t._v("59")]),e("br"),e("span",{staticClass:"line-number"},[t._v("60")]),e("br"),e("span",{staticClass:"line-number"},[t._v("61")]),e("br"),e("span",{staticClass:"line-number"},[t._v("62")]),e("br"),e("span",{staticClass:"line-number"},[t._v("63")]),e("br"),e("span",{staticClass:"line-number"},[t._v("64")]),e("br"),e("span",{staticClass:"line-number"},[t._v("65")]),e("br"),e("span",{staticClass:"line-number"},[t._v("66")]),e("br"),e("span",{staticClass:"line-number"},[t._v("67")]),e("br"),e("span",{staticClass:"line-number"},[t._v("68")]),e("br"),e("span",{staticClass:"line-number"},[t._v("69")]),e("br"),e("span",{staticClass:"line-number"},[t._v("70")]),e("br"),e("span",{staticClass:"line-number"},[t._v("71")]),e("br"),e("span",{staticClass:"line-number"},[t._v("72")]),e("br")])]),e("h3",{attrs:{id:"å¯è§‚å¯Ÿçš„å·¥å‚å‡½æ•°å·²ç»è¢«æ¸…é™¤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¯è§‚å¯Ÿçš„å·¥å‚å‡½æ•°å·²ç»è¢«æ¸…é™¤","aria-hidden":"true"}},[t._v("#")]),t._v(" å¯è§‚å¯Ÿçš„å·¥å‚å‡½æ•°å·²ç»è¢«æ¸…é™¤")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("æ—§API")]),t._v(" "),e("th",[t._v("æ–°API")]),t._v(" "),e("th",[t._v("æ³¨é‡Š")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("observable(primitive value)")])]),t._v(" "),e("td",[e("code",[t._v("observable.box(primitive value)")])]),t._v(" "),e("td",[t._v("ç”±äºè£…é¥°å™¨@observableä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œï¼ˆä¹Ÿé€‚ç”¨äºåŸå§‹å€¼ï¼‰ã€‚å¦‚æœè¯¥å€¼ä¸ºçº¯å¯¹è±¡ï¼Œæ•°ç»„æˆ–ES6 Mapï¼Œobservable(value)ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("observable(class instance)")])]),t._v(" "),e("td",[e("code",[t._v("observable.box(class instance)")])]),t._v(" "),e("td",[t._v("ç”±äºè£…é¥°å™¨@observableä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œï¼ˆä¹Ÿé€‚ç”¨äºåŸå§‹å€¼ï¼‰ã€‚å¦‚æœè¯¥å€¼ä¸ºçº¯å¯¹è±¡ï¼Œæ•°ç»„æˆ–ES6 Mapï¼Œobservable(value)ä¹Ÿå¯ä»¥æ­£å¸¸ä½¿ç”¨")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("observable.shallowArray(values)")])]),t._v(" "),e("td",[e("code",[t._v("observable.array(values, { deep: false })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("observable.shallowMap(values)")])]),t._v(" "),e("td",[e("code",[t._v("observable.map(values, { deep: false })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("observable.shallowObject(values)")])]),t._v(" "),e("td",[e("code",[t._v("observable.object(values, {}, { deep: false })")])]),t._v(" "),e("td",[t._v("æ³¨æ„éœ€è¦å°†ç©ºå¯¹è±¡ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«è£…é¥°å™¨ï¼ˆè¯·å‚è§ä¸Šæ–‡ï¼‰")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("extendObservable(target, props, moreProps, evenMoreProps)")])]),t._v(" "),e("td",[e("code",[t._v("extendObservable(target, {...props, ...moreProps, ...evenMoreProps})")])]),t._v(" "),e("td",[t._v("extendObservableä¸å†æ¥å—å¤šä¸ªå‚æ•°ã€‚è€Œæ˜¯å…ˆåˆå¹¶åˆ°ä¸€ä¸ªå¯¹è±¡ä¸­å†è§£æ„èµ‹å€¼ã€‚")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("extendShallowObservable(target, props)")])]),t._v(" "),e("td",[e("code",[t._v("extendObservable(target, props, {}, { deep: false })")])]),t._v(" "),e("td",[t._v("æ³¨æ„éœ€è¦å°†ç©ºå¯¹è±¡ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå…¶ä¸­å¯ä»¥åŒ…å«è£…é¥°å™¨ï¼ˆè¯·å‚è§å‘è¡Œè¯´æ˜ï¼‰")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("@computed.equals(compareFn)")])]),t._v(" "),e("td",[e("code",[t._v("@computed({ equals: compareFn })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("autorunAsync(fn, delay)")])]),t._v(" "),e("td",[e("code",[t._v("autorun(fn, { delay: delay })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("autorun(name, fn)")])]),t._v(" "),e("td",[e("code",[t._v("autorun(fn, { name: name })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("when(name, predicate, effect)")])]),t._v(" "),e("td",[e("code",[t._v("when(predicate, effect, { name: name })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("reaction(name, expr, effect)")])]),t._v(" "),e("td",[e("code",[t._v("reaction(expr, effect, { name: name })")])]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[e("code",[t._v("isComputed(thing, prop)")])]),t._v(" "),e("td",[e("code",[t._v("isComputedProp(thing, prop)")])]),t._v(" "),e("td",[t._v("isComputed(thing) ä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("isObservable(thing, prop)")])]),t._v(" "),e("td",[e("code",[t._v("isObservableProp(thing, prop)")])]),t._v(" "),e("td",[t._v("isObservable(thing) ä»ç„¶å¯ä»¥æ­£å¸¸ä½¿ç”¨")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("new Atom(name, fn, fn)")])]),t._v(" "),e("td",[e("code",[t._v("createAtom(name, fn, fn)")])]),t._v(" "),e("td",[t._v("Atom ç±»ä¸å†ç›´æ¥ä»åŒ…ä¸­å…¬å¼€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç°åœ¨å­˜åœ¨å¯ä»¥åœ¨ä»»ä½•MobXå¯è§‚å¯Ÿå¯¹è±¡ä¸Šä½¿ç”¨çš„å…¨å±€å‡½æ•°onBecomeObservedå¹¶ä¸”onBecomeUnobservedï¼Œå› æ­¤åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½æ ¹æœ¬ä¸éœ€è¦åˆ›å»ºAtom çš„å®ä¾‹ã€‚")])]),t._v(" "),e("tr",[e("td",[e("code",[t._v("computed(fn, { struct: true }) / computed(fn, { compareStructural: true })")])]),t._v(" "),e("td",[e("code",[t._v("computed(fn, { equals: comparer.structural })")])]),t._v(" "),e("td")])])]),t._v(" "),e("h2",{attrs:{id:"å…¶ä»–æ”¹åŠ¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–æ”¹åŠ¨","aria-hidden":"true"}},[t._v("#")]),t._v(" å…¶ä»–æ”¹åŠ¨")]),t._v(" "),e("p",[t._v("MobX ç°åœ¨éœ€è¦"),e("code",[t._v("Map")]),t._v("åœ¨å…¨å±€èŒƒå›´å†…å¯ç”¨ï¼Œå› æ­¤éœ€è¦ç¡®ä¿åœ¨æ—§ç‰ˆæµè§ˆå™¨ä¸­çš„å…¼å®¹æ€§ï¼ˆç›®å‰æ”¯æŒçš„æ˜¯IE 10åŠæ›´é«˜ç‰ˆæœ¬ï¼‰ã€‚å¦‚æœæ‚¨ä½¿ç”¨äº†"),e("code",[t._v("observable.map()")]),t._v("å’Œåºåˆ—åŒ–ï¼Œå¯èƒ½éœ€è¦æ›´æ–°ä»£ç ã€‚ "),e("code",[t._v("observableMap.toJS()")]),t._v("ç°åœ¨ä¼šè¿”å›ä¸€ä¸ª"),e("code",[t._v("Map")]),t._v("çš„æ™®é€šå®ä¾‹ã€‚å¦‚æœå¸Œæœ›è½¬æ¢ä¸ºæ™®é€š JavaScript å¯¹è±¡ï¼Œè¯·ä½¿ç”¨"),e("code",[t._v("observableMap.toJSON()")])]),t._v(" "),e("p",[e("code",[t._v("extendObservable")]),t._v("ä¸èƒ½å†é‡æ–°å£°æ˜ç°æœ‰å±æ€§ï¼Œåªèƒ½å¼•å…¥æ–°å±æ€§ã€‚åº”è¯¥æ”¹ç”¨"),e("code",[t._v("set")]),t._v("å¼•å…¥æ–°å±æ€§æˆ–æ›´æ–°ç°æœ‰å±æ€§")]),t._v(" "),e("p",[t._v("æ‰€æœ‰å¯è¿­ä»£çš„å¯¹è±¡éƒ½ä¸å†åˆ›å»ºæ•°ç»„ä½œä¸ºè¿­ä»£å™¨ï¼Œè€Œåªæ˜¯åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„è¿­ä»£å™¨ï¼Œä»¥æ±‚ä¸å®˜æ–¹è§„èŒƒæ›´åŠ ç´§å¯†åœ°å¯¹é½ã€‚å› æ­¤ï¼Œä»¥å‰çš„"),e("code",[t._v("observableMap.values()")]),t._v("å°†è¿”å›ä¸€ä¸ªæ•°ç»„ä½œä¸ºè¿­ä»£å™¨ï¼Œä½†æ˜¯ç°åœ¨å®ƒå°†åªè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚æ‰€ä»¥ä½ ä¸èƒ½å†åšç±»ä¼¼"),e("code",[t._v("observableMap.values().map(fn)")]),t._v("çš„æ“ä½œã€‚è€Œæ˜¯ä½¿ç”¨"),e("code",[t._v("Array.from(observableMap.values()).map(fn)")]),t._v("æˆ–"),e("code",[t._v("mobx.values(observableMap).map(fn)")]),t._v("ã€‚å—å½±å“çš„è¿­ä»£å™¨æœ‰ï¼š1.å¯è§‚å¯Ÿæ•°ç»„çš„é»˜è®¤è¿­ä»£å™¨ã€‚2.å¯è§‚å¯Ÿæ˜ å°„çš„é»˜è®¤è¿­ä»£å™¨ã€‚åŒ…æ‹¬"),e("code",[t._v("observableMap.entries()")]),t._v("ï¼Œ"),e("code",[t._v("observableMap.keys()")]),t._v("å’Œ"),e("code",[t._v("observableMap.values()")]),t._v("ã€‚")]),t._v(" "),e("p",[t._v("ä¼ é€’ç»™"),e("code",[t._v("spy")]),t._v("å¤„ç†å‡½æ•°çš„å‚æ•°å·²ç¨ä½œæ›´æ”¹ã€‚")]),t._v(" "),e("p",[t._v("å¦‚æœ"),e("code",[t._v("reportObserved")]),t._v("åœ¨ååº”æ€§ä¸Šä¸‹æ–‡ä¹‹å¤–è¢«è§¦å‘ï¼Œåœ¨è‡ªå»º atom ä¸­è°ƒç”¨"),e("code",[t._v("reportObserved()")]),t._v("å°†ä¸å†è§¦å‘é’©å­ã€‚")])])},[],!1,null,null,null);s.default=n.exports}}]);