(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{395:function(t,s,a){"use strict";a.r(s);var n=a(40),r=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"tip custom-block"},[a("p",[t._v("过年阶段终于结束了，真没想到过年期间我是真的做不了什么事。简历我就弄了好多天，更别说项目和博客了。这几天正在集中火力弄项目，博客基本没写，恐怕也已经没时间写了。")])]),t._v(" "),a("p",[t._v("今天这篇是 Chrome 插件的一个项目总结，虽然没什么时间，但是还是得经历把每一个项目都搞好吧。")]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/timg.jpg",alt:"画板"}})]),a("p"),t._v(" "),a("p",[a("strong",[t._v("Franko Translate - 开启你的划词翻译之旅吧！")]),a("a",{attrs:{href:"https://github.com/FanKaiqiang/Translate-extension/raw/master/Extensions.zip",download:"划词翻译插件"}},[t._v("（点我下载）")])]),t._v(" "),a("h2",{attrs:{id:"franko-translate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#franko-translate","aria-hidden":"true"}},[t._v("#")]),t._v(" Franko Translate")]),t._v(" "),a("h3",{attrs:{id:"一、项目介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、项目介绍","aria-hidden":"true"}},[t._v("#")]),t._v(" 一、项目介绍")]),t._v(" "),a("p",[t._v("此项目是一款的划词翻译插件，需要安装在 Chrome 浏览器上。安装此插件后，用户使用鼠标高亮页面中的文字，就可以将对应内容翻译为指定语言了。借助这款插件，在浏览网页时就可以很方便地翻译一些需要的内容。")]),t._v(" "),a("p",[t._v("以前从来没有试着去开发过一个 Chrome 浏览器的拓展程序，因此这也算是我的插件开发初学项目。虽然内容简单，但也基本覆盖到了插件开发的一些重要内容，而且就功能上来说目前并没有出现什么问题。使用到的技术包括：")]),t._v(" "),a("ul",[a("li",[t._v("Chrome Extensions、ES6、HTML(5)、CSS(3)")])]),t._v(" "),a("p",[t._v("由于这款插件并没有发布到 Chrome 应用商店上，所以并不能直接安装。因此如果想要体验这款插件，就要经历这几个步骤：")]),t._v(" "),a("ol",[a("li",[t._v("打开导航栏中「自定义及控制」按钮，找到如图所示的「拓展程序」模块："),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/001.png",alt:"进入拓展程序"}})])]),t._v(" "),a("li",[t._v("进入「拓展程序」后，开启开发者模式："),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/002.png",alt:"开启开发者"}})])]),t._v(" "),a("li",[t._v("开启开发者模式后，导航栏下方就会显示「加载已解压的拓展程序」。这时先下载这款划词翻译插件的压缩包"),a("a",{attrs:{href:"https://github.com/FanKaiqiang/Translate-extension/raw/master/Extensions.zip",download:"划词翻译插件"}},[t._v("（点我下载）")]),t._v("，然后解压。"),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/003.png",alt:"解压拓展程序"}})])]),t._v(" "),a("li",[t._v("解压插件压缩包后，点开「加载已解压的拓展程序」，找到刚才解压的文件夹，点击「选择文件夹」："),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/004.png",alt:"选择文件夹"}})])]),t._v(" "),a("li",[t._v("然后就可以在拓展程序列表中看到插件，开启你的划词翻译之旅吧！"),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/005.png",alt:"开始使用"}})])])]),t._v(" "),a("h3",{attrs:{id:"二、使用划词翻译插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、使用划词翻译插件","aria-hidden":"true"}},[t._v("#")]),t._v(" 二、使用划词翻译插件")]),t._v(" "),a("p",[t._v("在使用这款划词翻译前，需要在插件导航栏处打开翻译开关。如果需要暂停使用划词翻译的功能，也可以在这里将开关关闭：")]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/006.png",alt:"打开开关"}})]),a("p"),t._v(" "),a("p",[t._v("然后就可以通过使用鼠标高亮页面中的文字，将对应内容进行翻译了。翻译的内容会以一个浮层的形式出现在页面上，如图所示，因为浮层的大小有限，通过这种方法只能可以帮助翻译一段并不太长的文字：")]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/007.png",alt:"划词翻译"}})]),a("p"),t._v(" "),a("p",[t._v("如果要翻译很长的一段话，这时可以通过鼠标右击高亮区域，召出菜单选项，点击「翻译」选项就可以进入谷歌翻译的对应页面进行翻译了：")]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/008.png",alt:"划词翻译"}})]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/009.png",alt:"谷歌翻译"}})]),a("p"),t._v(" "),a("p",[t._v("除此之外，划词翻译插件还支持多种语言的翻译。可以在设置中设置语言，然后就可以对应的翻译效果了：")]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/010.png",alt:"设置语言"}})]),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"20190219A/011.png",alt:"翻译效果"}})]),a("p"),t._v(" "),a("h3",{attrs:{id:"三、总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 三、总结")]),t._v(" "),a("p",[t._v("虽然这个插件功能和内容都很简单，而且在技术上也没有什么炫酷的操作，这里主要需要注意的是整个 Chrome 插件项目的文件结构与配置，以及每个文件在这个插件中起到了什么样的作用。来分析一下 "),a("code",[t._v("manifest.json")]),t._v("，这是整个插件项目的配置文件：")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Franko Translate"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  插件名")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  版本号")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开启你的划词翻译之旅吧！"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  介绍")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"manifest_version"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  配置的版本")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"permissions"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("                            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  依赖")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"activeTab"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"storage"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contextMenus"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tabs"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"background"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("                             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  插件后台代码")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"background.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"persistent"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"content_scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  插件内容与样式")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"matches"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<all_urls>"')]),t._v("                          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  所以地址下均显示插件内容")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"css"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contentScript.css"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"contentScript.js"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browser_action"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("                         "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  浏览器行为")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"default_title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Franko Translate"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  导航栏的标题")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"default_popup"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"popup.html"')]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  导航栏浮层代码")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"options_page"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"options.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  设置页代码，这次的项目中没有用到")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"icons"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("                                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  各种大小下的 icon 文件")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"16"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/get_started16.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/get_started32.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"48"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/get_started48.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"128"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"images/get_started128.png"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br"),a("span",{staticClass:"line-number"},[t._v("32")]),a("br"),a("span",{staticClass:"line-number"},[t._v("33")]),a("br"),a("span",{staticClass:"line-number"},[t._v("34")]),a("br"),a("span",{staticClass:"line-number"},[t._v("35")]),a("br"),a("span",{staticClass:"line-number"},[t._v("36")]),a("br"),a("span",{staticClass:"line-number"},[t._v("37")]),a("br"),a("span",{staticClass:"line-number"},[t._v("38")]),a("br"),a("span",{staticClass:"line-number"},[t._v("39")]),a("br"),a("span",{staticClass:"line-number"},[t._v("40")]),a("br")])]),a("p",[t._v("上面就是这个项目所有的文件配置的相关内容。除此之外，几种 window.chrome 的 API 的使用也很重要。比如 "),a("code",[t._v("chrome.runtime.onMessage.addListener")]),t._v(" 可以用以监听插件向页面发送消息，"),a("code",[t._v("chrome.storage.sync.get")]),t._v(" 与 "),a("code",[t._v("chrome.storage.sync.set")]),t._v(" 分别用于从 storage 中获取与设置值。要想做好一个 Chrome 插件，弄清楚这些是必不可少的，关键时候还是得去查文档，插件开发文档地址："),a("a",{attrs:{href:"https://developer.chrome.com/extensions",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developer.chrome.com/extensions"),a("OutboundLink")],1),t._v("。")])])},[],!1,null,null,null);s.default=r.exports}}]);